(this["webpackJsonpweb-terminal"]=this["webpackJsonpweb-terminal"]||[]).push([[0],{19:function(e,t,a){e.exports=a(33)},28:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),u=a(3),l=a(4),s=a(18),i=a(15),m=a(2),p="TERMINAL/ADD_TO_HISTORY",E={commandList:[],history:[],comands:[],currentComand:"",prevComand:0};var f={theme:"ubuntu",font:"courier",color:"#aaaaaa"},d=Object(l.c)({terminal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(m.a)(Object(m.a)({},e),{},{history:[].concat(Object(i.a)(e.history),[t.payload])});case"TERMINAL/REMOVE_FROM_HISTORY":return Object(m.a)(Object(m.a)({},e),{},{history:[]});case"TERMINAL/ADD_CURRENT_COMAND":return Object(m.a)(Object(m.a)({},e),{},{currentComand:t.payload});case"TERMINAL/REMOVE_CURRENT_COMAND":return Object(m.a)(Object(m.a)({},e),{},{currentComand:""});case"TERMINAL/ADD_COMAND":return Object(m.a)(Object(m.a)({},e),{},{comands:[].concat(Object(i.a)(e.comands),[t.payload])});case"TERMINAL/ADD_PREV_COMAND":return Object(m.a)(Object(m.a)({},e),{},{prevComand:t.payload});case"TERMINAL/SET_COMMANDS":return Object(m.a)(Object(m.a)({},e),{},{commandList:t.payload});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_COLOR":return Object(m.a)(Object(m.a)({},e),{},{color:t.payload});case"APP/SET_THEME":return Object(m.a)(Object(m.a)({},e),{},{theme:t.payload});case"APP/SET_FONT":return Object(m.a)(Object(m.a)({},e),{},{font:t.payload});default:return e}}}),O=Object(l.e)(d,Object(l.d)(Object(l.a)(s.a),null)),b=(a(28),a(10)),y=a(6),v=function(){var e=Object(u.d)((function(e){return e.app.theme}));return r.a.createElement("div",{className:"terminal--header"},r.a.createElement("div",{className:"buttons"},r.a.createElement("span",null,r.a.createElement(b.a,{icon:"osX"===e?y.a:y.d,color:"osX"===e?"#F25056":"#D75224"})),r.a.createElement("span",null,r.a.createElement(b.a,{icon:"osX"===e?y.a:y.b,color:"osX"===e?"#FAC536":"#555555"})),r.a.createElement("span",null,r.a.createElement(b.a,{icon:"osX"===e?y.a:y.c,color:"osX"===e?"#39EA49":"#555555"}))),r.a.createElement("div",{className:"title"},"user@host:/$"))},h=a(5),j=a.n(h),A=a(7);function N(e){return function(){var t=Object(A.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://my-json-server.typicode.com/gunkaartur/web-terminal/".concat(e));case 3:if((n=t.sent).ok){t.next=8;break}return a({type:p,payload:e}),a({type:p,payload:"".concat(e,": command not found ")}),t.abrupt("return");case 8:return t.next=10,n.json();case 10:r=t.sent,a({type:p,payload:e}),a({type:p,payload:r.answer}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()}function C(e){return{type:"TERMINAL/ADD_CURRENT_COMAND",payload:e}}function R(e){return{type:"TERMINAL/ADD_PREV_COMAND",payload:e}}function M(e){return{type:"APP/SET_THEME",payload:e}}function T(e){return{type:"APP/SET_COLOR",payload:e}}function _(e){return{type:"APP/SET_FONT",payload:e}}var D=Object(u.b)((function(e){var t=e.terminal,a=e.app;return{history:t.history,comands:t.comands,currentComand:t.currentComand,prevComand:t.prevComand,color:a.color}}),null)((function(e){var t=e.history,a=e.comands,c=e.currentComand,o=e.prevComand,l=e.color,s=Object(u.c)();Object(n.useEffect)((function(){s(function(){var e=Object(A.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/gunkaartur/web-terminal/commands");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:"TERMINAL/SET_COMMANDS",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[s]);var i=r.a.createRef(),m=function(){var e=Object(A.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.key,r=t.target,e.t0=n,e.next="Enter"===e.t0?4:"ArrowUp"===e.t0?9:"ArrowDown"===e.t0?16:23;break;case 4:return r.value&&s({type:"TERMINAL/ADD_COMAND",payload:r.value}),"clear"===r.value?s({type:"TERMINAL/REMOVE_FROM_HISTORY"}):s(N(c)),s({type:"TERMINAL/REMOVE_CURRENT_COMAND"}),s(R(a.length+1)),e.abrupt("return");case 9:if(0!==o){e.next=13;break}return e.abrupt("return");case 13:s(C(a[o-1])),0!==o&&s(R(o-1));case 15:return e.abrupt("return");case 16:if(o!==a.length&&o!==a.length-1){e.next=20;break}return e.abrupt("return");case 20:s(C(a[o+1])),o<a.length&&s(R(o+1));case 22:case 23:return e.abrupt("return");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"terminal--content",onClick:function(){i.current.focus()}},r.a.createElement("ul",{className:"terminal--history"},t.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("span",null,"user@host:/$ "),r.a.createElement("input",{className:"terminal--input",type:"text",onKeyDown:function(e){return m(e)},value:c,ref:i,style:{color:l},onChange:function(e){return s(C(e.target.value))}}))})),g=function(){var e=Object(u.d)((function(e){return e.app})),t=e.font,a=e.color,c=e.theme,o=Object(u.c)();return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("app"));e&&o(T(e.color)),e&&o(M(e.theme)),e&&o(_(e.font))}),[]),Object(n.useEffect)((function(){localStorage.setItem("app",JSON.stringify(e))}),[e]),r.a.createElement("div",{className:"terminal terminal--".concat(t," terminal--").concat(c),style:{color:a}},r.a.createElement(v,null),r.a.createElement(D,null))},w=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.app.color})),a=Object(u.d)((function(e){return e.app.theme})),n=Object(u.d)((function(e){return e.app.font})).trim().split(" ").join("-");return r.a.createElement("div",{className:"menu"},r.a.createElement("label",{htmlFor:"theme"},"Choose a theme:"),r.a.createElement("select",{onChange:function(t){return e(M(t.target.value))},name:"theme",id:"theme",value:a},r.a.createElement("option",{value:"ubuntu"},"ubuntu"),r.a.createElement("option",{value:"osX"},"osX")),r.a.createElement("label",{htmlFor:"font"},"Choose font:"),r.a.createElement("select",{onChange:function(t){return e(_(t.target.value))},name:"font",id:"font",value:n},r.a.createElement("option",{value:"courier"},"Courier New"),r.a.createElement("option",{value:"arial"},"Arial")),r.a.createElement("label",{htmlFor:"color"},"Choose color:"),r.a.createElement("input",{value:t,name:"color",onChange:function(t){return e(T(t.target.value))},type:"color"}))};var I=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(w,null),r.a.createElement(g,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:O},r.a.createElement(I,null))),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a02d1801.chunk.js.map